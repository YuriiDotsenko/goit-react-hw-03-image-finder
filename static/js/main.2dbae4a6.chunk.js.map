{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/image-service.js","App.js","index.js"],"names":["Searchbar","state","query","handleInput","event","setState","target","value","handleFormSubmit","preventDefault","props","onFormSubmit","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","onImageClick","src","handleImageClick","webformatURL","alt","onClick","largeImageURL","ImageGallery","images","map","id","Button","onButton","rootModal","document","querySelector","Modal","handleEscape","code","toggleModal","handleBackdrop","currentTarget","window","addEventListener","removeEventListener","createPortal","children","imagesApi","fetchImages","currentQuery","currentPage","axios","get","then","data","hits","App","isLoading","showModal","populateImages","prevState","scrollTo","top","documentElement","scrollHeight","behavior","finally","handleMoreClick","bigImg","prevProps","length","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2dbae4a6.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  static propTypes = {\r\n    onFormSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleInput = event => {\r\n    this.setState({ query: event.target.value });\r\n  };\r\n\r\n  handleFormSubmit = event => {\r\n    const { query } = this.state;\r\n    event.preventDefault();\r\n\r\n    this.props.onFormSubmit(query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleFormSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleInput}\r\n            value={this.state.query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {};\r\n  onImageClick = src => {\r\n    this.props.handleImageClick(src);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          src={this.props.webformatURL}\r\n          alt=\"\"\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={() => this.onImageClick(this.props.largeImageURL)}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, handleImageClick }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        handleImageClick={handleImageClick}\r\n        key={id}\r\n        largeImageURL={largeImageURL}\r\n        webformatURL={webformatURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.exact({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  handleImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onButton }) => (\r\n  <button className=\"Button\" type=\"button\" onClick={onButton}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onButton: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './Modal.css';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst rootModal = document.querySelector('#root-modal');\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  static propTypes = {\r\n    toggleModal: propTypes.func.isRequired,\r\n    children: propTypes.node.isRequired,\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscape);\r\n  }\r\n\r\n  handleEscape = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscape);\r\n  }\r\n\r\n  handleBackdrop = event => {\r\n    if (event.target === event.currentTarget) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Backdrop\" onClick={this.handleBackdrop}>\r\n        <div className=\"Content\">{this.props.children}</div>\r\n      </div>,\r\n      rootModal,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nconst fetchImages = ({ currentQuery, currentPage = '1' }) =>\r\n  axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${currentQuery}&page=${currentPage}&key=21856946-e54e51c03adb2efa9c5f465ca&image_type=photo&orientation=horizontal&per_page=12\r\n`,\r\n    )\r\n    .then(({ data }) => data.hits);\r\n\r\nconst imagesApi = {\r\n  fetchImages,\r\n};\r\n\r\nexport default imagesApi;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport imagesApi from './services/image-service';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nclass App extends Component {\n  state = {\n    currentQuery: '',\n    currentPage: 1,\n    images: [],\n    isLoading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.currentQuery !== this.state.currentQuery) {\n      this.populateImages();\n    }\n  }\n\n  onFormSubmit = query => {\n    this.setState({ currentQuery: query, currentPage: 1, images: [] });\n  };\n\n  populateImages = () => {\n    this.setState({ isLoading: true });\n    const { currentQuery, currentPage } = this.state;\n    imagesApi\n      .fetchImages({ currentQuery, currentPage })\n      .then(images => {\n        this.setState(prevState => ({\n          currentPage: prevState.currentPage + 1,\n          images: [\n            ...prevState.images,\n            ...images.map(({ id, webformatURL, largeImageURL }) => ({\n              id,\n              webformatURL,\n              largeImageURL,\n            })),\n          ],\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleMoreClick = () => {\n    this.populateImages();\n  };\n\n  handleImageClick = src => {\n    this.setState({ bigImg: src, showModal: true });\n  };\n\n  toggleModal = event => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { isLoading, showModal, bigImg } = this.state;\n    return (\n      <div>\n        {showModal && (\n          <Modal toggleModal={this.toggleModal}>\n            <img src={bigImg} alt=\"\" />\n          </Modal>\n        )}\n        <Searchbar onFormSubmit={this.onFormSubmit} />\n        {this.state.images.length > 0 && (\n          <>\n            <ImageGallery\n              handleImageClick={this.handleImageClick}\n              images={this.state.images}\n            />\n            {isLoading ? (\n              <Loader\n                type=\"Circles\"\n                color=\"#bd2745\"\n                height={70}\n                width={70}\n                timeout={3000}\n                className=\"Spinner\"\n              />\n            ) : (\n              <Button onButton={this.handleMoreClick} />\n            )}\n          </>\n        )}\n        {isLoading && this.state.images.length === 0 && (\n          <Loader\n            type=\"Circles\"\n            color=\"#bd2745\"\n            height={70}\n            width={70}\n            timeout={3000}\n            className=\"Spinner\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}